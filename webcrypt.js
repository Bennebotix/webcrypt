const Webcrypt = {encrypt:async(b,a)=>btoa(JSON.stringify(Array.from(new Uint8Array(await crypto.subtle.encrypt({name:"AES-CBC",iv:a[1]},a[0],(new TextEncoder).encode(b)))))),decrypt:async(b,a)=>(new TextDecoder).decode(await crypto.subtle.decrypt({name:"AES-CBC",iv:a[1]},a[0],new Uint8Array(JSON.parse(atob(b))))),genRandKey:async()=>[await window.crypto.subtle.generateKey({name:"AES-CBC",length:256},!0,["encrypt","decrypt"]),window.crypto.getRandomValues(new Uint8Array(16))],genKey:async b=>(async a=>[await window.crypto.subtle.deriveKey({name:"PBKDF2",salt:(new TextEncoder).encode(a(1).slice(20,36)),iterations:1E5,hash:"SHA-256"},await window.crypto.subtle.importKey("raw",(new TextEncoder).encode(a(0)),{name:"PBKDF2"},!1,["deriveKey"]),{name:"AES-CBC",length:a(1).slice(16,20)%2?128:256},!0,["encrypt","decrypt"]),(new TextEncoder).encode(a(1).slice(0,16))])(a=>(73==b.length?b:atob(b)).split("").map((d,c)=>c%2==a?d:"").join("")),genSeed:_=>(a=>Array(73).fill().map((d,c)=>[33,35,37,39].includes(c)?33==c?a(2):a(10):"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUV1234567890!@#$%^\x26*()\\|]}[{;:/?.\x3e,\x3c`~'\""[a(86)]).join(""))(a=>Math.floor(Math.random()*a))}
